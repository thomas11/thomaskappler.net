{{define "content"}}

<h1>Topics of this site</h1>

<table>
{{$topics := .}}
{{range .PostsByCategory}}
<tr>
  <td><a href="/categories/{{.Category.Id}}.html">{{.Category}}</a></td>
  {{if ($topics.Eq (len .Posts) 1)}}
    {{$post := index .Posts 0}}
    <td>(<a href="/{{$post.Id}}.html">one post</a> on {{.EarliestDateFormatted}})</td>
  {{else}}
    <td>({{len .Posts}} posts between {{.EarliestDateFormatted}} and {{.LatestDateFormatted}})</td>
  {{end}}
</tr>
{{end}}
</table>

{{end}}
